┌────────────────────────┐
│        index.html       │
│  (Interfaz de captura)  │
│                         │
│ - Operario ingresa datos│
│ - Validaciones visuales │
│ - No persiste datos     │
└───────────┬────────────┘
            │
            │  Evento capturado
            │  (datos enviados al backend)
            ▼
┌────────────────────────┐
│        app.py           │
│   (Backend mínimo)      │
│                         │
│ - Recibe POST del HTML  │
│ - No guarda histórico   │
│ - Actúa como puente     │
│ - No hace análisis      │
└───────────┬────────────┘
            │
            │  Evento recibido
            │
            ▼
┌────────────────────────┐
│  paros_formulario.json │
│   (Evento transitorio) │
│                        │
│ - Contiene UN evento   │
│ - Representa lo último │
│ - Puede no existir     │
│ - No es histórico      │
└───────────┬────────────┘
            │
            │  Evento validado
            │
            ▼
┌────────────────────────┐
│     agregar_paro.py    │
│ (Persistencia segura)  │
│                        │
│ - Lee evento de entrada│
│ - Asigna ID único      │
│ - Asigna timestamp     │
│ - Protege el histórico │
│ - Tolera estados raros │
└───────────┬────────────┘
            │
            │  Evento permanente
            │
            ▼
┌────────────────────────┐
│       paros.json       │
│   (Histórico real)     │
│                        │
│ - Todos los eventos    │
│ - Nunca se borra       │
│ - Fuente de verdad     │
│ - Crece con el tiempo  │
└───────────┬────────────┘
            │
            │  Lectura / análisis
            │
            ▼
┌────────────────────────┐
│     leer_paros.py      │
│  (Lectura / métricas)  │
│                        │
│ - Solo lee             │
│ - Cuenta eventos       │
│ - Resume información   │
│ - Genera CSV           │
│ - No modifica datos    │
└───────────┬────────────┘
            │
            │  Reportes generados
            │
            ▼
┌────────────────────────┐
│    reportes/*.csv      │
│   (Salidas del sistema)│
│                        │
│ - Datos consolidados   │
│ - Reproducibles        │
│ - No son fuente verdad │
│ - Se pueden borrar     │
└───────────┬────────────┘
            │
            │  Automatización diaria
            │
            ▼
┌────────────────────────┐
│  enviar_reportes.py    │
│ (Automatización salida)│
│                        │
│ - Ejecuta leer_paros   │
│ - Adjunta CSV          │
│ - Envía por correo     │
│ - No toca históricos   │
│ - Corre sin usuarios   │
└───────────┬────────────┘
            │
            │  Distribución
            │
            ▼
┌────────────────────────┐
│   Correo / Oficina     │
│ (Consumo de métricas)  │
│                        │
│ - Análisis             │
│ - Decisiones           │
│ - Seguimiento          │
│ - Sin tocar sistema    │
└────────────────────────┘
