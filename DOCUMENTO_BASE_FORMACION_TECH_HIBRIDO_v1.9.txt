DOCUMENTO BASE – FORMACIÓN TECH HÍBRIDO
VERSIÓN 2.0

============================================

OBJETIVO DEL DOCUMENTO

Este documento consolida TODO el proceso realizado hasta la fecha en el proyecto “formacion-tech-hibrida”.

No es un manual técnico aislado ni una guía de código.
Es un documento de CONTEXTO, CRITERIO y OPERACIÓN.

Su objetivo es permitir:

* Retomar el proyecto sin pérdida de contexto
* Explicar decisiones técnicas y no técnicas
* Entender el sistema como un todo
* Continuar el desarrollo sin rehacer ni romper

============================================

CONTEXTO GENERAL DEL PROYECTO

El proyecto nace con un objetivo operativo claro:

Diseñar un sistema SIMPLE para registrar paros de producción por célula, causa y duración, con el fin de obtener métricas reales que apoyen decisiones de mantenimiento y mejora.

Principios desde el inicio:

* No cambiar la operación real de planta
* No interferir con mantenimiento
* Capturar datos reales con mínima fricción
* Priorizar claridad sobre complejidad

El sistema se construye como PILOTO OPERATIVO, no como producto final.

============================================

ARQUITECTURA GENERAL DEL SISTEMA

El sistema está compuesto por tres capas claramente separadas:

1. Captura (Frontend)
2. Persistencia (Backend mínimo)
3. Análisis (Scripts de lectura y métricas)

Cada capa cumple una sola función.
No se mezclan responsabilidades.

---

1. CAPA DE CAPTURA – HTML

Archivo principal:

* index.html

Función:

* Mostrar formulario a operarios
* Guiar selección correcta (célula, tipo, causa)
* Evitar errores humanos básicos
* Enviar información al backend

Características clave:

* No depende de base de datos
* Funciona en navegador (PC o celular)
* Usa validaciones simples

Decisión importante:

* El formulario NO escribe directamente en paros.json
* Primero escribe en un archivo intermedio

---

2. CAPA DE PERSISTENCIA – BACKEND MÍNIMO

Archivo principal:

* app.py (Flask)

Función:

* Recibir el POST del formulario
* Guardar el evento capturado

Archivo generado:

* paros_formulario.json

Este archivo representa:

* El evento tal como fue ingresado
* Una “foto” del formulario

Luego entra en juego:

* agregar_paro.py

Función:

* Leer paros_formulario.json
* Normalizar el evento
* Agregarlo al histórico

Archivo histórico:

* paros.json

Este archivo es:

* La fuente de verdad del sistema
* El histórico acumulado

---

3. CAPA DE ANÁLISIS – LECTURA Y MÉTRICAS

Archivo principal:

* leer_paros.py

Función:

* Leer paros.json
* Calcular métricas
* Generar reportes

Archivos generados (salidas):

* resumen_por_causa.csv
* resumen_tiempo_por_causa.csv
* resumen_frecuencia_por_causa.csv

Estos archivos:

* NO son sistema
* Son resultados
* Se pueden borrar y regenerar

============================================

FLUJO COMPLETO DE INFORMACIÓN (LÍNEA DE VIDA)

1. Operario abre index.html
2. Completa formulario
3. Presiona “Registrar Paro”
4. HTML envía POST a Flask
5. Flask guarda evento en paros_formulario.json
6. agregar_paro.py procesa y agrega a paros.json
7. leer_paros.py analiza paros.json
8. Se generan métricas y reportes

Este flujo es LINEAL, CLARO y TRAZABLE.

============================================

DECISIONES IMPORTANTES TOMADAS

1. USO DE ARCHIVO INTERMEDIO

Se decidió usar paros_formulario.json para:

* Separar captura de histórico
* Facilitar debugging
* Evitar corrupción del histórico

2. SOLUCIÓN ROBUSTA PARA LA CAUSA

Problema detectado:

* Dos selects dinámicos con el mismo name causaban errores

Solución adoptada:

* Un único input hidden (causa_final)
* Los selects visibles NO se envían
* JavaScript copia la causa seleccionada

Resultado:

* Cero ambigüedad
* Envíos consistentes
* Sistema estable

3. EJECUCIÓN DESDE CARPETA RAÍZ

Se detectó un error crítico:

* Ejecutar scripts desde C:\projects generaba lecturas falsas

Decisión:

* El sistema SOLO se ejecuta desde:
  C:\projects\formacion-tech-hibrida

Esto define el CONTEXTO del sistema.

============================================

ESTRUCTURA FINAL DEL PROYECTO

projects/
└── formacion-tech-hibrida/
├── app.py
├── index.html
├── agregar_paro.py
├── leer_paros.py
├── paros.json
├── paros_formulario.json
├── reportes/
│   ├── resumen_por_causa.csv
│   ├── resumen_tiempo_por_causa.csv
│   └── resumen_frecuencia_por_causa.csv
└── repositorio/docs/
├── documentos de contexto

============================================

ACCESO DESDE CELULARES (PILOTO)

Configuración actual:

* Flask corre en un PC local
* Accesible por IP local (192.168.x.x)

Condiciones:

* PC y celular deben estar en la MISMA red Wi-Fi
* NO funciona con datos móviles

Esto es:

* Correcto
* Seguro
* Adecuado para piloto

El acceso por datos móviles se considera FUTURA EVOLUCIÓN.

============================================

MÉTRICAS DISPONIBLES

1. Tiempo total detenido por causa
2. Número de eventos por causa
3. Número de eventos por célula

Estas métricas permiten:

* Identificar fallos largos vs fallos repetitivos
* Priorizar inversión
* Detectar desgaste operativo

============================================

REINICIO Y GESTIÓN DEL HISTÓRICO

Reglas:

* paros.json NO se borra a lo bruto
* Se vacía o se archiva

Reinicio controlado:
{
"log_paros_celula": []
}

Archivado recomendado:

* paros_2026_enero.json

============================================

ESTADO ACTUAL DEL PROYECTO

* Sistema funcionando end-to-end
* Datos reales capturados
* Métricas generadas correctamente
* Estructura limpia
* Contexto claro

El proyecto está LISTO PARA PILOTO OPERATIVO.

============================================

CIERRE

Este documento existe para evitar:

* volver a cometer los mismos errores
* perder contexto
* rehacer trabajo ya validado

El sistema no es complejo.
Es CLARO, CONTROLADO y ENTENDIDO.

A partir de aquí, cualquier evolución es una decisión, no una urgencia.
